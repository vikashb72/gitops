global:
  env: minikube
  metadata:
    namespace: my-apps
  spec:
    port: 8080
    protocol: TCP
    targetPort: 8080

myapps:
  app1:
    buildid: 123456
    # defaults to global.metadata.namespace if not specified 
    namespace: my-apps
    # defaults to {} if not specified 
    metalabels:
      - "metallb.universe.tf/address-pool: default"
    # defaults to 1 if not specified 
    replicaCount: 3
    #podAnnotations:
    #podLabels:
    #serviceAccountName
    vault:
      tls: 'false'
      role: readonly
      path: path/to/service/config
    image:
      repository: repo/path/to/image
      tag: 1.27.3
    resources:
      requests:
        memory: 64Mi
        cpu: 20m
    service:
      port: 8080
    initContainer:
      name: app1-init
      vault:
        role: readonly
        path: path/to/service/init-config
      image:
        repository: repo/path/to/init-image
        tag: 1.27.3
      service:
        port: 8080
      resources:
        requests:
          memory: 64Mi
          cpu: 20m
