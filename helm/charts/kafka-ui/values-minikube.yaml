schema:
  env: minikube

kafka-ui:
  replicaCount: 1
  
  yamlApplicationConfig:
     kafka:
       clusters:
         - name: kafka-cluster
           bootstrapServers: kafka-cluster-kafka-bootstrap.kafka-system:9093
           properties:
             security.protocol: SASL_SSL
             sasl.mechanism: SCRAM-SHA-512        
     auth:
       type: disabled
     management:
       health:
         ldap:
           enabled: false
  existingSecret: "kafka-ui-secrets"
  envs:
    secret: {}
    config: {}
  env:
    - name: KAFKA_CLUSTERS_0_NAME
      value: "kafka-cluster"
    - name: KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS
      value: "kafka-cluster-kafka-bootstrap.kafka-system:9093"
    - name: DYNAMIC_CONFIG_ENABLED
      value: 'true'
    - name: KAFKA_CLUSTERS_0_PROPERTIES_SECURITY_PROTOCOL
      value: SSL # alt:  SASL_PLAINTEXT
    - name: KAFKA_CLUSTERS_0_PROPERTIES_SASL_MECHANISM
      value: SCRAM-SHA-512
    - name: KAFKA_CLUSTERS_0_SSL_TRUSTSTORELOCATION
      value: /ssl/kafka/kafka.truststore.jks
  
  volumeMounts:
    - mountPath: /ssl/kafka/
      name: own-ca-bundle
      readOnly: true

  volumes:
    - name: own-ca-bundle
      configMap:
        name: own-ca-bundle
        defaultMode: 0644
        optional: false
        items:
          - key: bundle.jks
            path: kafka.truststore.jks
