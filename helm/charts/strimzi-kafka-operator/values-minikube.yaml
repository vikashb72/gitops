schema:
  env: minikube
  auth: true
  tls: true

strimzi-kafka-operator:
  replicas: 1

  dashboards:
    enabled: true
    namespace: monitoring

cluster:
  name: "kafka-cluster"

  kafka:
    clusterCa:
      generateCertificateAuthority: false

    clientsCa:
      generateCertificateAuthority: false

    version: 3.8.0

    metadataVersion: "3.8"

    jvmOptions:
      xms: 256m
      xmx: 256m

    replicas: 3

    external_listener:
      enabled: false

      annotations:
        - "metallb.universe.tf/address-pool: default"
        - 'service.beta.kubernetes.io/azure-load-balancer-internal: "true"'
        - 'service.beta.kubernetes.io/azure-load-balancer-internal-subnet: snet-home-za01-workload01'
      type: loadbalancer
      port: 9094
      tls: true

  kraft:
    replicas: 3

    roles:
      - broker
      - controller

    storage:
      type: jbod

      volumes:
       - id: 0
         type: persistent-claim
         class: nfs-client
         size: 4Gi
         deleteClaim: true

topics:
  - name: test.topic.1
    retention: 7200000
    size: 52428800
    partitions: 1
    replicas: 1
  - name: test.topic.2
    size: 52428800
    partitions: 3
    replicas: 3

users:
  - name: topic-admin
    topics:
      - name: test.topic.1
        operations:
          - Create
          - Describe
          - Read
          - Write
      - name: test.topic.2
        operations:
          - Create
          - Describe
          - Read
          - Write
  - name: kafka-ui
    topics:
      - name: test.topic.1
        operations:
          - Describe
          - Read
      - name: test.topic.2
        operations:
          - Describe
          - Read
  - name: topic-1-read
    topics:
      - name: test.topic.1
        operations:
          - Describe
          - Read
  - name: topic-1-write
    topics:
      - name: test.topic.1
        operations:
          - Describe
          - Write
  - name: topic-2-read
    topics:
      - name: test.topic.2
        operations:
          - Describe
          - Read
  - name: topic-2-write
    topics:
      - name: test.topic.2
        operations:
          - Describe
          - Write
