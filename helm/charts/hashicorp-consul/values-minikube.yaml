consul:
  global:
    enabled: true
  
    logLevel: "info"
  
    logJSON: false
  
    secretsBackend:
      vault:
        enabled: false
  
    gossipEncryption:
      autoGenerate: false
      secretName: ""
      # encryption key.
      secretKey: ""
  
    # Enables [TLS](https://developer.hashicorp.com/consul/tutorials/security/tls-encryption-secure)
    # across the cluster to verify authenticity of the Consul servers and clients.
    # Requires Consul v1.4.1+.
    tls:
      # If true, the Helm chart will enable TLS for Consul
      # servers and clients and all consul-k8s-control-plane components, as well as generate certificate
      # authority (optional) and server and client certificates.
      # This setting is required for [Cluster Peering](https://developer.hashicorp.com/consul/docs/connect/cluster-peering/k8s).
      enabled: false
  
      # both clients and servers and to only accept HTTPS connections.
      httpsOnly: true
  
    # Configure ACLs.
    acls:
      # If true, the Helm chart will automatically manage ACL tokens and policies
      # for all Consul and consul-k8s-control-plane components.
      # This requires Consul >= 1.4.
      manageSystemACLs: false
  
      # Override global log verbosity level. One of "trace", "debug", "info", "warn", or "error".
      # @type: string
      logLevel: ""
  
      # A Kubernetes or Vault secret containing the bootstrap token to use for creating policies and
      # tokens for all Consul and consul-k8s-control-plane components. If `secretName` and `secretKey`
      # are unset, a default secret name and secret key are used. If the secret is populated, then
      # we will skip ACL bootstrapping of the servers and will only initialize ACLs for the Consul
      # clients and consul-k8s-control-plane system components.
      # If the secret is empty, then we will bootstrap ACLs on the Consul servers, and write the
      # bootstrap token to this secret. If ACLs are already bootstrapped on the servers, then the
      # secret must contain the bootstrap token.
      bootstrapToken:
        # The name of the Kubernetes or Vault secret that holds the bootstrap token.
        # If unset, this defaults to `{{ global.name }}-bootstrap-acl-token`.
        secretName: null
        # The key within the Kubernetes or Vault secret that holds the bootstrap token.
        # If unset, this defaults to `token`.
        secretKey: null
  
      # If true, an ACL token will be created that can be used in secondary
      # datacenters for replication. This should only be set to true in the
      # primary datacenter since the replication token must be created from that
      # datacenter.
      # In secondary datacenters, the secret needs to be imported from the primary
      # datacenter and referenced via `global.acls.replicationToken`.
      createReplicationToken: false
  
      # replicationToken references a secret containing the replication ACL token.
      # This token will be used by secondary datacenters to perform ACL replication
      # and create ACL tokens and policies.
      # This value is ignored if `bootstrapToken` is also set.
      replicationToken:
        # The name of the Kubernetes or Vault secret that holds the replication token.
        # @type: string
        secretName: null
        # The key within the Kubernetes or Vault secret that holds the replication token.
        # @type: string
        secretKey: null
  
      # The resource requests (CPU, memory, etc.) for the server-acl-init and server-acl-init-cleanup pods.
      # This should be a YAML map corresponding to a Kubernetes
      # [`ResourceRequirements``](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#resourcerequirements-v1-core)
      # object.
      #
      # Example:
      #
      # ```yaml
      # resources:
      #   requests:
      #     memory: '200Mi'
      #     cpu: '100m'
      #   limits:
      #     memory: '200Mi'
      #     cpu: '100m'
      # ```
      #
      # @recurse: false
      # @type: map
      resources:
        requests:
          memory: "50Mi"
          cpu: "50m"
        limits:
          memory: "50Mi"
          cpu: "50m"
  
    # If argocd.enabled is set to true, following annotations are added to
    # job - server-acl-init-job
    # annotations -
    #   argocd.argoproj.io/hook: Sync
    #   argocd.argoproj.io/hook-delete-policy: HookSucceeded
    argocd:
      enabled: true
  
    federation:
      enabled: false
  
    # Configures metrics for Consul service mesh
    metrics:
      enabled: false
  
      # Configures consul agent metrics. Only applicable if
      # `global.metrics.enabled` is true.
      # @type: boolean
      enableAgentMetrics: false
  
      # Configures consul agent underlying host metrics. Default is false.
      # Only applicable if `global.metrics.enabled` and `global.metrics.enableAgentMetrics` is true.
      # @type: boolean
      enableHostMetrics: false
  
      enableGatewayMetrics: false
  
      enableTelemetryCollector: false
  
      # Configures the list of filter rules to apply for allowing or blocking
      # metrics by prefix in the following format:
      #
      # A leading "+" will enable any metrics with the given prefix, and a leading "-" will block them.
      # If there is overlap between two rules, the more specific rule will take precedence.
      # Blocking will take priority if the same prefix is listed multiple times.
      prefixFilter:
        # @type: array<string>
        allowList: []
        # @type: array<string>
        blockList: []
  
        # Configures Kubernetes Prometheus/OpenMetrics auto-discovery annotations for use with Datadog.
        # This configuration is less common and more for advanced usage with custom metrics monitoring
        # configurations. Refer to the [Datadog documentation](https://docs.datadoghq.com/containers/kubernetes/prometheus/?tab=kubernetesadv2) for more details.
        openMetricsPrometheus:
          # @default: false
          # @type: boolean
          enabled: false
  
        otlp:
          # Enables forwarding of Consul's Telemetry Collector OTLP metrics for
          # ingestion by Datadog Agent.
          # @default: false
          # @type: boolean
          enabled: false
          # Protocol used for DataDog Endpoint OTLP ingestion.
          #
          # Valid protocol options are one of either:
          #
          #   - "http": will forward to DataDog HTTP OTLP Node Agent Endpoint default - "0.0.0.0:4318"
          #   - "grpc": will forward to DataDog gRPC OTLP Node Agent Endpoint default - "0.0.0.0:4317"
          #
          # @default: "http"
          # @type: string
          protocol: "http"
  
    openshift:
      enabled: false
  
    cloud:
      enabled: false
  
    #
    # Example:
    #
    # ```yaml
    # trustedCAs: [
    #   |
    #   -----BEGIN CERTIFICATE-----
    #   MIIC7jCCApSgAwIBAgIRAIq2zQEVexqxvtxP6J0bXAwwCgYIKoZIzj0EAwIwgbkx
    #   ...
    # ]
    # ```
    # @type: array<string>
    trustedCAs: []
  
  # Server, when enabled, configures a server cluster to run. This should
  # be disabled if you plan on connecting to a Consul cluster external to
  # the Kube cluster.
  server:
    enabled: true
  
    replicas: 1
  
    # This defines the disk size for configuring the
    storage: 10Gi
    storageClass: nfs-client
  
    resources:
      requests:
        memory: "200Mi"
        cpu: "100m"
      limits:
        memory: "200Mi"
        cpu: "100m"
  
  externalServers:
    enabled: false
  
  client:
    # If true, the chart will install all
    # the resources necessary for a Consul client on every Kubernetes node. This _does not_ require
    # `server.enabled`, since the agents can be configured to join an external cluster.
    # @type: boolean
    enabled: false
  
  dns:
    # @type: boolean
    enabled: false
  
  ui:
    enabled: true
  
    metrics:
      enabled: false
      provider: "prometheus"
  
      # baseURL is the URL of the prometheus server, usually the service URL.
      # This value is only used if `ui.enabled` is set to true.
      # @type: string
      baseURL: http://kube-prometheus-stack-prometheus.monitoring.svc.cluster.local:9090/
  
    dashboardURLTemplates:
      # Sets [`dashboardURLTemplates.service`](https://developer.hashicorp.com/consul/docs/agent/config/config-files#ui_config_dashboard_url_templates_service).
      service: ""
  
  syncCatalog:
    enabled: false
  
  connectInject:
    enabled: false
  
  meshGateway:
    enabled: false
  
  ingressGateways:
    enabled: false
  
  webhookCertManager:
    tolerations: null
  
  # Configures a demo Prometheus installation.
  prometheus:
    enabled: false
  
  tests:
    enabled: false
  
  telemetryCollector:
    enabled: false
